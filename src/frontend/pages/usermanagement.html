<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>User Management</title>
  <link rel="stylesheet" href="../assets/css/usermanagement.css">
</head>

<body>
  <div class="container">
    <aside class="sidebar">
      <div class="line"></div>
      <img class="a" src="../assets/images/Icon.png"> 
      <div class="logo">ADMIN</div>      <nav class="nav">
        <ul>
          <li onclick="window.location.href='overview.html'">OVERVIEW</li>
          <li onclick="window.location.href='sales.html'">SALES</li>
          <li onclick="window.location.href='inventory.html'">INVENTORY</li>
          <li class="active">USER MANAGEMENT</li>
          <li onclick="window.location.href='transaction.html'">TRANSACTION</li>
          <li onclick="window.location.href='about.html'">ABOUT</li>
        </ul>
      </nav>
      <div class="logout" id="logoutBtn">LOGOUT</div>
    </aside>

    <main class="main-content">
      <header class="header">
        <h1>User management</h1>
        <p>Manage account permission here.</p>
      </header>
      <div class="top-bar">
        <h2>All users <span id="userCount">0</span></h2>
        <div class="actions">
          <input type="text" id="searchInput" placeholder="Search">
          <button class="filter-btn">Filters</button>
          <button class="add-user-btn" id="addUserBtn">+ Add user</button>
        </div>
      </div>
      <table>
        <thead>
          <tr>
            <th><input type="checkbox"></th>
            <th>User name</th>
            <th>Access</th>
            <th>Last active</th>
            <th>Date added</th>
            <th>Actions</th> <!-- New column for actions -->
          </tr>
        </thead>
        <tbody id="userTableBody">
          <!-- Dynamic user rows will be added here -->
        </tbody>
      </table>
    </main>
  </div>

  <!-- Add User Modal -->
  <div id="addUserModal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeModal">&times;</span>
      <h2>Add New User</h2>
      <form id="addUserForm">
        <label for="newUsername">Username:</label>
        <input type="text" id="newUsername" name="username" required>
        
        <label for="newPassword">Password:</label>
        <input type="password" id="newPassword" name="password" required>
        
        <label for="newRole">Role:</label>
        <select id="newRole" name="role" required>
          <option value="Admin">Admin</option>
          <option value="Cashier">Cashier</option>
        </select>
        
        <label for="newEmail">Email:</label>
        <input type="email" id="newEmail" name="email" required>
        
        <button type="submit">Add User</button>
      </form>
    </div>
  </div>

  <!-- Edit User Modal -->
  <div id="editUserModal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeEditModal">&times;</span>
      <h2>Edit User</h2>
      <form id="editUserForm">
        <!-- Hidden input for user ID that can't be changed -->
        <input type="hidden" id="editUserId" name="user_id">
        
        <div class="form-group">
          <label>User ID:</label>
          <input type="text" id="displayUserId" disabled class="disabled-input">
        </div>
        
        <label for="editUsername">Username:</label>
        <input type="text" id="editUsername" name="username" required>
        
        <label for="editPassword">New Password:</label>
        <input type="password" id="editPassword" name="password" placeholder="Leave blank to keep current password">
        
        <label for="editRole">Role:</label>
        <select id="editRole" name="role" required>
          <option value="Admin">Admin</option>
          <option value="Cashier">Cashier</option>
        </select>
        
        <label for="editEmail">Email:</label>
        <input type="email" id="editEmail" name="email" required>
        
        <button type="submit">Update User</button>
      </form>
    </div>
  </div>

  <script src="../assets/js/usermanagement.js"></script>
</body>
</html>
